document.addEventListener("DOMContentLoaded",function(){document.getElementById("user-tab").addEventListener("click",function(){t("user")}),document.getElementById("teacher-tab").addEventListener("click",function(){t("teacher")}),document.getElementById("admin-tab").addEventListener("click",function(){t("admin")}),tabs.forEach(c=>{c.addEventListener("click",function(e){e.preventDefault(),tabs.forEach(n=>n.classList.remove("active")),this.classList.add("active"),currentRole=this.getAttribute("data-role"),fetchUsers(currentRole,currentPage,searchQuery)})});function t(c){fetch(`/api/permissions/${c}`).then(e=>e.json()).then(e=>{document.getElementById("read").checked=e.read,document.getElementById("upload").checked=e.upload,document.getElementById("delete-content").checked=e.delete_content,document.getElementById("update").checked=e.update,document.getElementById("list").checked=e.list,document.getElementById("delete-user").checked=e.delete_user,document.getElementById("view-activities").checked=e.view_activities,document.getElementById("view-activities-logs").checked=e.view_activities_logs})}});
